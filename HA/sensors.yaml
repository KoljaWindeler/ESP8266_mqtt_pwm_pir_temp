  - platform: time_date
    display_options:
      - 'time'
# -----------------------------------------------------------
# ------------- GMOTION -------------------------------------
# -----------------------------------------------------------
  - platform: template
    sensors:
      g_motion_t:
        value_template: >-
          {%- if is_state("binary_sensor.g_motion","on") -%}
          0
          {%- else -%}
          {{ (( as_timestamp(now()) - as_timestamp(states.binary_sensor.g_motion.last_updated)) //60) | int }}
          {%- endif %}
        unit_of_measurement: 'min'
#        entity_id:
#         - sensor.time
# ---------------------------------------------------------
# --- 200 min timeout for owntrack changes
      owntracks_kolja_t:
        value_template: >-
          {%- if ((( as_timestamp(now()) - as_timestamp(states.device_tracker.illuminum_kolja.last_updated)) //60) | int) > 200 -%}
            1 
          {%- else -%}
            0
          {%- endif -%}
        unit_of_measurement: ''
#        entity_id:
#         - sensor.time
# -----------------------------------------------------------
# -------------- TRAVELTIME ---------------------------------
# -----------------------------------------------------------

  - platform: google_travel_time
    name: To_Hannover
    api_key: !secret gmaps_api_key
    origin: Wienhausen
    destination: Uni, Hannover

  - platform: google_travel_time
    name: To_Baker
    api_key: !secret gmaps_api_key
    origin: Wienhausen, Muehlenstr 8a
    destination: Baker Hughes, Celle
# -----------------------------------------------------------
# --------------- MQTT --------------------------------------
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev1"
    fname: "01 Ball"

  - platform: mqtt
    state_topic: "dev1/r/temperature"
    name: "dev1_temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev2"
    fname: "02 Hood"

  - platform: mqtt
    state_topic: "dev2/r/temperature"
    name: "dev2_temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev3"
    fname: "03 Bedroom Touch"

  - platform: mqtt
    state_topic: "dev3/r/temperature"
    name: "dev3_temperature"
    unit_of_measurement: "ºC"

  - platform: mqtt
    state_topic: "dev3/humidity"
    name: "dev3_humidity"
    unit_of_measurement: "%"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev4"
    fname: "04 Kitchen Rack"

  - platform: mqtt
    state_topic: "dev4/r/temperature"
    name: "dev4_temperature"
    sensor_class: "temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev5"
    fname: "05 Front Door"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev6"
    fname: "06 Entrance"

  - platform: mqtt
    state_topic: "dev6/r/temperature"
    name: "dev6_temperature"
    sensor_class: "temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev7"
    fname: "07 TowerW"

  - platform: mqtt
    state_topic: "dev7/r/temperature"
    name: "dev7_temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev8"
    fname: "08 CarloPIR"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev9"
    fname: "09 VAC"

  - platform: mqtt
    state_topic: "dev9/r/temperature"
    name: "dev9_temperature"
    unit_of_measurement: "ºC"

  - platform: mqtt
    state_topic: "dev9/humidity"
    name: "dev9_humidity"
    unit_of_measurement: "%"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev10"
    fname: "10 HallwayU"

  - platform: mqtt
    state_topic: "dev10/r/temperature"
    name: "dev10_temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev11"
    fname: "11 TowerE"

  - platform: mqtt
    state_topic: "dev11/r/temperature"
    name: "dev11_temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev12"
    fname: "12 EntranceB1"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev13"
    fname: "13 Leakage"

  - platform: mqtt
    state_topic: "dev13/r/temperature"
    name: "dev13_temperature"
    unit_of_measurement: "ºC"

  - platform: mqtt
    state_topic: "dev13/r/adc"
    name: "dev13_adc"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev14"
    fname: "14 Kitchen Cabinet"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev15"
    fname: "15 HallwayD"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev16"
    fname: "16 BedroomSW"

  - platform: mqtt
    state_topic: "dev16/r/temperature"
    name: "dev16_temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev17"
    fname: "17 X-mas2"

  - platform: mqtt
    state_topic: "dev17/r/temperature"
    name: "dev17_temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev18"
    fname: "18 Carlo AI"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev19"
    fname: "19 AI unused"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev20"
    fname: "20 Bedroom"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev21"
    fname: "21 SL Livingroom"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev23"
    fname: "23 Livingroom Touch"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev25"
    fname: "25 unused Touch"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev26"
    fname: "26 pow"

  - platform: mqtt
    state_topic: "dev26/r/power"
    name: "dev26_power"
    unit_of_measurement: "W"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev55"
    fname: "55 Lampinions C"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev56"
    fname: "56 Lampinions"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev57"
    fname: "57 x-mas tree"
# -----------------------------------------------------------
  - platform: mqtt_jkw
    name: "dev77"
    fname: "77 Flower"
# -----------------------------------------------------------
  - platform: mqtt
    state_topic: "dev99/r/temperature"
    name: "dev99_temperature"
    sensor_class: "temperature"
    unit_of_measurement: "ºC"
# -----------------------------------------------------------
  - platform: darksky
    api_key: !secret darksky_key
    monitored_conditions:
      - temperature_max
      - temperature_min
      - precip_intensity
      - precip_probability
      - temperature
      - apparent_temperature
      - cloud_cover
      - daily_summary
#      - summary
#      - icon
#      - precip_type
#      - wind_speed
#      - wind_bearing
#      - humidity
#      - visibility
#      - apparent_temperature_max
#      - apparent_temperature_min
#      - precip_intensity_max
# -----------------------------------------------------------
  - platform: systemmonitor
    resources:
      - type: disk_use_percent
        arg: /home
      - type: memory_free
      - type: processor_use
# -----------------------------------------------------------
