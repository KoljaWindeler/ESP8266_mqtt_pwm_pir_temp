import e from "./fecha.js";function t(e) {var t = e.split(":").map(Number);return 3600 * t[0] + 60 * t[1] + t[2];}var a = function () {try {new Date().toLocaleDateString("i");} catch (e) {return "RangeError" === e.name;}return !1;}() ? function (e, t) {return e.toLocaleDateString(t, { year: "numeric", month: "long", day: "numeric" });} : function (t) {return e.format(t, "mediumDate");},n = function () {try {new Date().toLocaleString("i");} catch (e) {return "RangeError" === e.name;}return !1;}() ? function (e, t) {return e.toLocaleString(t, { year: "numeric", month: "long", day: "numeric", hour: "numeric", minute: "2-digit" });} : function (t) {return e.format(t, "haDateTime");},r = function () {try {new Date().toLocaleTimeString("i");} catch (e) {return "RangeError" === e.name;}return !1;}() ? function (e, t) {return e.toLocaleTimeString(t, { hour: "numeric", minute: "2-digit" });} : function (t) {return e.format(t, "shortTime");},i = [60, 60, 24, 7],o = ["second", "minute", "hour", "day"];function s(e, t, a) {void 0 === a && (a = {});var n,r = ((a.compareTime || new Date()).getTime() - e.getTime()) / 1e3,s = r >= 0 ? "past" : "future";r = Math.abs(r);for (var c = 0; c < i.length; c++) {if (r < i[c]) {r = Math.floor(r), n = t("ui.components.relative_time.duration." + o[c], "count", r);break;}r /= i[c];}return void 0 === n && (n = t("ui.components.relative_time.duration.week", "count", r = Math.floor(r))), !1 === a.includeTense ? n : t("ui.components.relative_time." + s, "time", n);}var c = function (e) {return e < 10 ? "0" + e : e;};function u(e) {var t = Math.floor(e / 3600),a = Math.floor(e % 3600 / 60),n = Math.floor(e % 3600 % 60);return t > 0 ? t + ":" + c(a) + ":" + c(n) : a > 0 ? a + ":" + c(n) : n > 0 ? "" + n : null;}function l(e) {var a = t(e.attributes.remaining);if ("active" === e.state) {var n = new Date().getTime(),r = new Date(e.last_changed).getTime();a = Math.max(a - (n - r) / 1e3, 0);}return a;}var h = function (e, t, a, n) {void 0 === n && (n = !1), e._themes || (e._themes = {});var r = t.default_theme;("default" === a || a && t.themes[a]) && (r = a);var i = Object.assign({}, e._themes);if ("default" !== r) {var o = t.themes[r];Object.keys(o).forEach(function (t) {var a = "--" + t;e._themes[a] = "", i[a] = o[t];});}if (e.updateStyles ? e.updateStyles(i) : window.ShadyCSS && window.ShadyCSS.styleSubtree(e, i), n) {var s = document.querySelector("meta[name=theme-color]");if (s) {s.hasAttribute("default-content") || s.setAttribute("default-content", s.getAttribute("content"));var c = i["--primary-color"] || s.getAttribute("default-content");s.setAttribute("content", c);}}};function d(e) {return e.substr(0, e.indexOf("."));}function m(e) {return e.substr(e.indexOf(".") + 1);}function p(e) {var t = e.language || "en";return e.translationMetadata.translations[t] && e.translationMetadata.translations[t].isRTL || !1;}function f(e) {return p(e) ? "rtl" : "ltr";}function v(e) {return d(e.entity_id);}function g(e, t, i) {var o,s = v(t);if ("binary_sensor" === s) t.attributes.device_class && (o = e("state." + s + "." + t.attributes.device_class + "." + t.state)), o || (o = e("state." + s + ".default." + t.state));else if (t.attributes.unit_of_measurement && !["unknown", "unavailable"].includes(t.state)) o = t.state + " " + t.attributes.unit_of_measurement;else if ("input_datetime" === s) {var c;if (t.attributes.has_time) {if (t.attributes.has_date) c = new Date(t.attributes.year, t.attributes.month - 1, t.attributes.day, t.attributes.hour, t.attributes.minute), o = n(c, i);else {var u = new Date();c = new Date(u.getFullYear(), u.getMonth(), u.getDay(), t.attributes.hour, t.attributes.minute), o = r(c, i);}} else c = new Date(t.attributes.year, t.attributes.month - 1, t.attributes.day), o = a(c, i);} else o = "zwave" === s ? ["initializing", "dead"].includes(t.state) ? e("state.zwave.query_stage." + t.state, "query_stage", t.attributes.query_stage) : e("state.zwave.default." + t.state) : e("state." + s + "." + t.state);return o || (o = e("state.default." + t.state) || e("component." + s + ".state." + t.state) || t.state), o;}var b = "hass:bookmark",w = "lovelace",y = ["climate", "cover", "configurator", "input_select", "input_number", "input_text", "lock", "media_player", "scene", "script", "timer", "vacuum", "water_heater", "weblink"],_ = ["alarm_control_panel", "automation", "camera", "climate", "configurator", "cover", "fan", "group", "history_graph", "input_datetime", "light", "lock", "media_player", "script", "sun", "updater", "vacuum", "water_heater", "weather"],k = ["input_number", "input_select", "input_text", "scene", "weblink"],E = ["camera", "configurator", "history_graph", "scene"],S = ["closed", "locked", "off"],T = new Set(["fan", "input_boolean", "light", "switch", "group", "automation"]),x = "°C",D = "°F",C = "group.default_view",L = function (e, t, a, n) {n = n || {}, a = null == a ? {} : a;var r = new Event(t, { bubbles: void 0 === n.bubbles || n.bubbles, cancelable: Boolean(n.cancelable), composed: void 0 === n.composed || n.composed });return r.detail = a, e.dispatchEvent(r), r;},R = function (e) {var t = function (e, t) {return a("hui-error-card", { type: "error", error: e, config: t });},a = function (e, a) {var n = window.document.createElement(e);try {n.setConfig(a);} catch (n) {return console.error(e, n), t(n.message, a);}return n;};if (!e || "object" != typeof e || !e.type || !e.type.startsWith("custom:")) return t("No type configured", e);var n = e.type.substr("custom:".length);if (customElements.get(n)) return a(n, e);var r = t("Custom element doesn't exist: " + e.type + ".", e);r.style.display = "None";var i = setTimeout(function () {r.style.display = "";}, 2e3);return customElements.whenDefined(e.type).then(function () {clearTimeout(i), L(r, "ll-rebuild", {}, r);}), r;},M = { alert: "hass:alert", automation: "hass:playlist-play", calendar: "hass:calendar", camera: "hass:video", climate: "hass:thermostat", configurator: "hass:settings", conversation: "hass:text-to-speech", device_tracker: "hass:account", fan: "hass:fan", group: "hass:google-circles-communities", history_graph: "hass:chart-line", homeassistant: "hass:home-assistant", homekit: "hass:home-automation", image_processing: "hass:image-filter-frames", input_boolean: "hass:drawing", input_datetime: "hass:calendar-clock", input_number: "hass:ray-vertex", input_select: "hass:format-list-bulleted", input_text: "hass:textbox", light: "hass:lightbulb", mailbox: "hass:mailbox", notify: "hass:comment-alert", person: "hass:account", plant: "hass:flower", proximity: "hass:apple-safari", remote: "hass:remote", scene: "hass:google-pages", script: "hass:file-document", sensor: "hass:eye", simple_alarm: "hass:bell", sun: "hass:white-balance-sunny", switch: "hass:flash", timer: "hass:timer", updater: "hass:cloud-upload", vacuum: "hass:robot-vacuum", water_heater: "hass:thermometer", weblink: "hass:open-in-new" };function q(e, t) {if (e in M) return M[e];switch (e) {case "alarm_control_panel":switch (t) {case "armed_home":return "hass:bell-plus";case "armed_night":return "hass:bell-sleep";case "disarmed":return "hass:bell-outline";case "triggered":return "hass:bell-ring";default:return "hass:bell";}case "binary_sensor":return t && "off" === t ? "hass:radiobox-blank" : "hass:checkbox-marked-circle";case "cover":return "closed" === t ? "hass:window-closed" : "hass:window-open";case "lock":return t && "unlocked" === t ? "hass:lock-open" : "hass:lock";case "media_player":return t && "off" !== t && "idle" !== t ? "hass:cast-connected" : "hass:cast";case "zwave":switch (t) {case "dead":return "hass:emoticon-dead";case "sleeping":return "hass:sleep";case "initializing":return "hass:timer-sand";default:return "hass:z-wave";}default:return console.warn("Unable to find icon for domain " + e + " (" + t + ")"), b;}}var A = function (e, t) {L(e, "haptic", t);},O = function (e, t, a) {void 0 === a && (a = !1), a ? history.replaceState(null, "", t) : history.pushState(null, "", t), L(window, "location-changed", { replace: a });},j = function (e, t, a) {void 0 === a && (a = !0);var n,r = d(t),i = "group" === r ? "homeassistant" : r;switch (r) {case "lock":n = a ? "unlock" : "lock";break;case "cover":n = a ? "open_cover" : "close_cover";break;default:n = a ? "turn_on" : "turn_off";}return e.callService(i, n, { entity_id: t });},z = function (e, t) {var a = S.includes(e.states[t].state);return j(e, t, a);},P = function (e, t, a, n, r) {var i;switch (r && a.dbltap_action ? i = a.dbltap_action : n && a.hold_action ? i = a.hold_action : !n && a.tap_action && (i = a.tap_action), i || (i = { action: "more-info" }), i.action) {case "more-info":(a.entity || a.camera_image) && (L(e, "hass-more-info", { entityId: i.entity ? i.entity : a.entity ? a.entity : a.camera_image }), i.haptic && A(e, i.haptic));break;case "navigate":i.navigation_path && (O(0, i.navigation_path), i.haptic && A(e, i.haptic));break;case "url":i.url && window.open(i.url), i.haptic && A(e, i.haptic);break;case "toggle":a.entity && (z(t, a.entity), i.haptic && A(e, i.haptic));break;case "call-service":if (!i.service) return;var o = i.service.split(".", 2),s = o[0],c = o[1],u = Object.assign({}, i.service_data);"entity" === u.entity_id && (u.entity_id = a.entity), t.callService(s, c, u), i.haptic && A(e, i.haptic);}};function I(e, t, a) {if (t.has("config") || a) return !0;if (e.config.entity) {var n = t.get("hass");return !n || n.states[e.config.entity] !== e.hass.states[e.config.entity];}return !1;}const V = new WeakMap();String(Math.random()).slice(2);try {const e = { get capture() {return !1;} };window.addEventListener("test", e, e), window.removeEventListener("test", e, e);} catch (e) {}(window.litHtmlVersions || (window.litHtmlVersions = [])).push("1.0.0");var H = "ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0,N = function (e) {function t() {e.call(this), this.holdTime = 500, this.ripple = document.createElement("paper-ripple"), this.timer = void 0, this.held = !1, this.cooldownStart = !1, this.cooldownEnd = !1, this.nbClicks = 0;}return e && (t.__proto__ = e), (t.prototype = Object.create(e && e.prototype)).constructor = t, t.prototype.connectedCallback = function () {var e = this;Object.assign(this.style, { borderRadius: "50%", position: "absolute", width: H ? "100px" : "50px", height: H ? "100px" : "50px", transform: "translate(-50%, -50%)", pointerEvents: "none" }), this.appendChild(this.ripple), this.ripple.style.color = "#03a9f4", this.ripple.style.color = "var(--primary-color)", ["touchcancel", "mouseout", "mouseup", "touchmove", "mousewheel", "wheel", "scroll"].forEach(function (t) {document.addEventListener(t, function () {clearTimeout(e.timer), e.stopAnimation(), e.timer = void 0;}, { passive: !0 });});}, t.prototype.bind = function (e) {var t = this;if (!e.longPress) {e.longPress = !0, e.addEventListener("contextmenu", function (e) {var t = e || window.event;return t.preventDefault && t.preventDefault(), t.stopPropagation && t.stopPropagation(), t.cancelBubble = !0, t.returnValue = !1, !1;});var a = function (a) {var n, r;t.cooldownStart || (t.held = !1, a.touches ? (n = a.touches[0].pageX, r = a.touches[0].pageY) : (n = a.pageX, r = a.pageY), t.timer = window.setTimeout(function () {t.startAnimation(n, r), t.held = !0, e.repeat && !e.isRepeating && (e.isRepeating = !0, t.repeatTimeout = setInterval(function () {e.dispatchEvent(new Event("ha-hold"));}, e.repeat));}, t.holdTime), t.cooldownStart = !0, window.setTimeout(function () {return t.cooldownStart = !1;}, 100));},n = function (a) {t.cooldownEnd || ["touchend", "touchcancel"].includes(a.type) && void 0 === t.timer ? e.isRepeating && t.repeatTimeout && (clearInterval(t.repeatTimeout), e.isRepeating = !1) : (clearTimeout(t.timer), e.isRepeating && t.repeatTimeout && clearInterval(t.repeatTimeout), e.isRepeating = !1, t.stopAnimation(), t.timer = void 0, t.held ? e.repeat || e.dispatchEvent(new Event("ha-hold")) : e.hasDblClick ? 0 === t.nbClicks ? (t.nbClicks += 1, t.dblClickTimeout = window.setTimeout(function () {1 === t.nbClicks && (t.nbClicks = 0, e.dispatchEvent(new Event("ha-click")));}, 250)) : (t.nbClicks = 0, clearTimeout(t.dblClickTimeout), e.dispatchEvent(new Event("ha-dblclick"))) : e.dispatchEvent(new Event("ha-click")), t.cooldownEnd = !0, window.setTimeout(function () {return t.cooldownEnd = !1;}, 100));};e.addEventListener("touchstart", a, { passive: !0 }), e.addEventListener("touchend", n), e.addEventListener("touchcancel", n), e.addEventListener("mousedown", a, { passive: !0 }), e.addEventListener("click", n);}}, t.prototype.startAnimation = function (e, t) {Object.assign(this.style, { left: e + "px", top: t + "px", display: null }), this.ripple.holdDown = !0, this.ripple.simulatedRipple();}, t.prototype.stopAnimation = function () {this.ripple.holdDown = !1, this.style.display = "none";}, t;}(HTMLElement);customElements.get("long-press-custom-card-helpers") || customElements.define("long-press-custom-card-helpers", N);var Y = function (e) {var t = function () {var e = document.body;if (e.querySelector("long-press-custom-card-helpers")) return e.querySelector("long-press-custom-card-helpers");var t = document.createElement("long-press-custom-card-helpers");return e.appendChild(t), t;}();t && t.bind(e);},B = (e => (...e) => {const t = function () {return function (e) {Y(e.committer.element);};}(...e);return V.set(t, !0), t;})(),F = function (e, t, a) {void 0 === a && (a = !0);var n = {};t.forEach(function (t) {if (S.includes(e.states[t].state) === a) {var r = d(t),i = ["cover", "lock"].includes(r) ? r : "homeassistant";i in n || (n[i] = []), n[i].push(t);}}), Object.keys(n).forEach(function (t) {var r;switch (t) {case "lock":r = a ? "unlock" : "lock";break;case "cover":r = a ? "open_cover" : "close_cover";break;default:r = a ? "turn_on" : "turn_off";}e.callService(t, r, { entity_id: n[t] });});},W = function () {var e = document.querySelector("home-assistant");if (e = (e = (e = (e = (e = (e = (e = (e = e && e.shadowRoot) && e.querySelector("home-assistant-main")) && e.shadowRoot) && e.querySelector("app-drawer-layout partial-panel-resolver")) && e.shadowRoot || e) && e.querySelector("ha-panel-lovelace")) && e.shadowRoot) && e.querySelector("hui-root")) {var t = e.lovelace;return t.current_view = e.___curView, t;}return null;};export { t as durationToSeconds, a as formatDate, n as formatDateTime, r as formatTime, s as relativeTime, u as secondsToDuration, l as timerTimeRemaining, h as applyThemesOnElement, d as computeDomain, m as computeEntity, p as computeRTL, f as computeRTLDirection, g as computeStateDisplay, v as computeStateDomain, b as DEFAULT_DOMAIN_ICON, w as DEFAULT_PANEL, y as DOMAINS_WITH_CARD, _ as DOMAINS_WITH_MORE_INFO, k as DOMAINS_HIDE_MORE_INFO, E as DOMAINS_MORE_INFO_NO_HISTORY, S as STATES_OFF, T as DOMAINS_TOGGLE, x as UNIT_C, D as UNIT_F, C as DEFAULT_VIEW_ENTITY_ID, R as createThing, M as fixedIcons, q as domainIcon, L as fireEvent, P as handleClick, A as forwardHaptic, I as hasConfigOrEntityChanged, Y as longPressBind, B as longPress, O as navigate, z as toggleEntity, F as turnOnOffEntities, j as turnOnOffEntity, W as getLovelace };